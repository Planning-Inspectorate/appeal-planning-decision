{% extends "./index.njk" %}

{% set title = "Your appeal - " + journeyTitle + " - GOV.UK" %}
{% set submissionType = "appeal" %}

{% block beforeTaskList %}
  <style {% if cspNonce %}nonce={{ cspNonce }}{% endif %}>
  .appeal-details .govuk-summary-list__key,
  .appeal-details .govuk-summary-list__value,
  .appeal-details .govuk-summary-list__actions {
      padding-top: 0.2rem;
      padding-bottom: 0;
  }
  </style>
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-full govuk-!-margin-bottom-3">
        <h1 class="govuk-heading-l">
            Your appeal
        </h1>
    </div>

    <div class="govuk-grid-column-full">
      <p class="govuk-body">Your deadline to submit this appeal is {{ formattedDeadline }}.</p>
      <p class="govuk-body"><a href="/appeals/your-appeals" class="govuk-link--no-visited-state">Save and come back later</a>.</p>
      <hr class="govuk-section-break govuk-section-break--visible govuk-section-break--l">
    </div>

  </div>

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-three-quarters-from-desktop">
      {% if journeyComplete %}
          <h2 class="govuk-heading-s">Appeal complete</h2>
        {% else %}
          <h2 class="govuk-heading-s">Appeal incomplete</h2>
      {% endif %}
      <p class="govuk-!-margin-bottom-7">You have completed {{summaryListData.completedSectionCount}} of {{summaryListData.sections.length}} sections.</p>
    </div>
  </div>
{% endblock %}

{% block submitBlock %}
	{% if journeyComplete %}
    <strong class="govuk-tag govuk-tag--blue">
      Ready to submit
    </strong>
    </h2>

		{{  govukSummaryList({
			rows:[
				{
      		key: {
        		text: "Accept declaration and submit"
      		},
      		value: {
        		text: ""
      		},
      		actions: {
        		items: [
          		{
            		href: declarationUrl,
            		text: "Continue"
          		}
        		]
      		}
    		}
			]
		})  }}

    {% block formButton %}
    {% endblock %}

  {% else %}
    <strong class="govuk-tag govuk-tag--grey">
      Cannot start yet
    </strong>
    </h2>
		{{  govukSummaryList({
			rows:[
				{
      		key: {
        		text: "Accept declaration and submit"
      		},
      		value: {
        		text: ""
					}
    		}
			]
		})  }}
{% endblock %}

{% block formButton %}
      {{ govukButton({
        text: "Continue",
        href: declarationUrl,
        type: "button",
        attributes: { "data-cy":"submit-questionnaire"}
      }) }}

{% endblock %}
