{%- macro statusTagColor(status, procedure, classes = '') -%}
	{%- set statusTagColor = 'grey' -%}
	{%- set statusText = status -%}
	{#
		list of available color classes can be found
		at https://design-system.service.gov.uk/components/tag/#additional-colours
		or https://github.dev/alphagov/govuk-frontend/src/govuk/components/tag/_index.scss
	#}
{%- switch (status | string | lower) -%}
		{# appeal statuses #}
		{%- case 'lpa_questionnaire' -%}
			{%- set statusTagColor = 'green' -%}
			{%- set statusText = 'Open for comments' -%}
		{%- case 'statements' -%}
      {%- set statusTagColor = 'green' -%}
      {%- set statusText = 'Open for comments' -%}
    {%- case 'final_comments' -%}
      {%- set statusTagColor = 'yellow' -%}
      {%- set statusText = 'Awaiting site visit' -%}
    {%- case 'evidence' -%}
      {%- set statusTagColor = 'yellow' -%}
     	{%- set statusText = 'Awaiting inquiry' -%}
    {%- case 'awaiting_event' -%}
    	{%- set statusTagColor = 'yellow' -%}
    	{%- switch (procedure) -%}
				{%- case 'inquiry' -%}
					{%- set statusText = 'Awaiting inquiry' -%}
				{%- case 'hearing' -%}
					{%- set statusText = 'Awaiting hearing' -%}
				{%- default -%}
					{%- set statusText = 'Awaiting site visit' -%}
			{%- endswitch -%}
    {%- case 'event' -%}
    	{%- set statusTagColor = 'yellow' -%}
      {%- switch (procedure) -%}
				{%- case 'inquiry' -%}
					{%- set statusText = 'Awaiting inquiry' -%}
				{%- case 'hearing' -%}
					{%- set statusText = 'Awaiting hearing' -%}
				{%- default -%}
					{%- set statusText = 'Awaiting site visit' -%}
     	{%- endswitch -%}
    {%- case 'issue_determination' -%}
      {%- set statusTagColor = 'yellow' -%}
      {%- set statusText = 'Awaiting decision'-%}
    {%- case 'complete' -%}
      {%- set statusTagColor = 'blue' -%}
      {%- set statusText = 'Decision issued' -%}
    {%- case 'valid' -%}
      {%- set statusTagColor = 'grey' -%}
      {%- set statusText = 'Valid' -%}
    {%- case 'invalid' -%}
      {%- set statusTagColor = 'grey' -%}
      {%- set statusText = 'Invalid' -%}
    {%- case 'withdrawn' -%}
      {%- set statusTagColor = 'grey' -%}
      {%- set statusText = 'Withdrawn' -%}
    {%- case 'awaiting_transfer' -%}
      {%- set statusTagColor = 'green' -%}
     	{%- set statusText = 'Awaiting transfer' -%}
    {%- case 'transferred' -%}
      {%- set statusTagColor = 'blue' -%}
     	{%- set statusText = 'Transferred' -%}
	{%- endswitch -%}
	<strong class="govuk-tag govuk-tag--{{ statusTagColor }}">{{ statusText }}</strong>
{%- endmacro -%}
