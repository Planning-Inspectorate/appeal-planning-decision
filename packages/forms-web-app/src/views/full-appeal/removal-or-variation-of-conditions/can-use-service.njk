{% extends "../../base/can-use-service-base.njk" %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}
{% from "../../macros/bool-to-sentence-case.njk" import boolToSentenceCaseField %}
{% from "../../macros/multifile-upload-to-list.njk" import multifileUploadToList %}
{% from "../../macros/summary-field.njk" import summaryField %}
{% set listedBuildingRow = {
	key: {
		text: "Is your appeal about a listed building?"
	},
	value: {
		text: summaryField(isListedBuilding, { 'data-cy': "listed-building" })
	},
	actions: {
		items: [
			{
				href: "/before-you-start/listed-building",
				text: "Change",
				visuallyHiddenText: "Is your appeal about a listed building?",
				attributes: { "data-cy":"listedBuilding"}
			}
		]
	}
} %}
{% block canUseServiceSummaryList %}
	{{ govukSummaryList({
		classes: "govuk-summary-list govuk-!-margin-bottom-9",
		rows: [
			{
				key: {
				text: "Local planning authority"
			},
				value: {
				text: summaryField(appealLPD, { 'data-cy': "local-planning-department" })
			},
				actions: {
				items: [
					{
						href: changeLpaUrl,
						text: "Change",
						visuallyHiddenText: "Local planning authority",
						attributes: { "data-cy":"localPlanningDepartment"}
					}
				]
			}
			},
			{
				key: {
				text: "Have you received an enforcement notice?"
			},
				value: {
				text: summaryField(enforcementNotice, { 'data-cy': "enforcement-notice" })
			},
				actions: {
				items: [
					{
						href: "/before-you-start/enforcement-notice",
						text: "Change",
						visuallyHiddenText: "Have you received an enforcement notice?",
						attributes: { "data-cy":"enforcementNotice"}
					}
				]
			}
			},
			{
				key: {
				text: "Type of application"
			},
				value: {
				text: summaryField(applicationType, { 'data-cy': "application-type" })
			},
				actions: {
				items: [
					{
						href: "/before-you-start/type-of-planning-application",
						text: "Change",
						visuallyHiddenText: "Type of application",
						attributes: { "data-cy":"applicationType"}
					}
				]
			}
			},
			{
				key: {
				text: "Are the conditions for householder planning permission?"
			},
				value: {
				text: hasHouseholderPermissionConditions
			},
				actions: {
				items: [
					{
						href: "/before-you-start/conditions-householder-permission",
						text: "Change",
						visuallyHiddenText: "Are the conditions for householder planning permission?",
						attributes: { "data-cy":"householderPermissionConditions"}
					}
				]
			}
			},
			listedBuildingRow,
			{
				key: {
				text: "Was your application granted or refused?"
			},
				value: {
				text: summaryField(applicationDecision, { 'data-cy': "application-decision" })
			},
				actions: {
				items: [
					{
						href: "/before-you-start/granted-or-refused",
						text: "Change",
						visuallyHiddenText: "Was your application granted or refused?",
						attributes: { "data-cy":"applicationDecision"}
					}
				]
			}
			},
			{
				key: {
				text: dateOfDecisionLabel
			},
				value: {
				text: summaryField(decisionDate, { 'data-cy': "decision-date" })
			},
				actions: {
				items: [
					{
						href: "/before-you-start/decision-date",
						text: "Change",
						visuallyHiddenText: dateOfDecisionLabel,
						attributes: { "data-cy":"decisionDate"}
					}
				]
			}
			}
		]
	}) }}
{% endblock %}
