{% from "govuk/components/table/macro.njk" import govukTable %}

{%- if params.appeal.number %}
  
  {% set planningNumberBgColor = "govuk-tag " + params.planningNumberBgColor if params.planningNumberBgColor else "govuk-tag govuk-tag--turquoise" %}
  {% set tableCaption = "" if params.requireCaption === false else "Appeal details" %}
  {% set appealNumber %}
      <strong class="{{planningNumberBgColor}}">
        {{ params.appeal.number }}
      </strong>
  {% endset %}

  <div class="govuk-grid-column-one-third">
    {{ govukTable({
      caption: tableCaption,
      firstCellIsHeader: true,
      attributes: {
        'data-cy': 'appealDetails'
      },
      rows: [
        [
          {
            text: "Planning application number"
          },
          {
            html: appealNumber,
            attributes: {
              'data-cy': 'planningApplicationNumber'
            }
          }
        ],
        [
          {
            text: "Site address"
          },
          {
            text: params.appeal.address,
            attributes: {
              'data-cy': 'planningApplicationAddress'
            }
          }
        ],
        [
          {
            text: "Appellant Name"
          },
          {
            text: params.appeal.appellant,
            attributes: {
              'data-cy': 'planningApplicationApellant'
            }
          }
        ]
      ]
    }) }}
  </div>

{% endif -%}
